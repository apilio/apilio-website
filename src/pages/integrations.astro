---
// Components
import Layout from '../layouts/Layout.astro'
import Hero from '../components/blocks/hero/PageHeader.astro'
import CTA from '../components/blocks/CTA/BasicDark.astro'
import Section from '../components/ui/Section.astro'
import Row from '../components/ui/Row.astro'
import Col from '../components/ui/Col.astro'
import Button from '../components/ui/Button.astro'
import { Image } from 'astro:assets'
import { Icon } from 'astro-icon/components'

// Assets — Native integration logos
import tuya from '../assets/logos/logo-tuya.svg'
import hue from '../assets/logos/logo-philips-hue.svg'
import ewelink from '../assets/logos/logo-ewelink.svg'
import tado from '../assets/logos/logo-tado.svg'
import alexa from '../assets/logos/logo-amazon-alexa.svg'
import ifttt from '../assets/webflow/logo-ifttt.svg'

// Assets — IFTTT brands
import smartthings from '../assets/logos/logo-smartthings.svg'
import lifx from '../assets/logos/logo-lifx.svg'
import ring from '../assets/logos/logo-ring.svg'
import tplink from '../assets/logos/logo-tp-link.svg'
import bosch from '../assets/logos/logo-bosch.svg'
import netatmo from '../assets/logos/logo-netatmo.svg'

// Assets — Webhook services
import zapier from '../assets/logos/logo-zapier.svg'
import apple from '../assets/logos/logo-apple.svg'

// Assets — Images
import zigbeeLogo from '../assets/logos/logo-zigbee.svg'
import matterLogo from '../assets/logos/logo-matter.svg'

// SEO
const SEO = {
	title: 'Apilio | Integrations — Works with your devices',
	description:
		'Native integrations with Tuya, Philips Hue, Sonoff, Tado, Alexa, and IFTTT. Plus webhooks and REST API to connect anything else.'
}

// Data
const nativeIntegrations = [
	{
		logo: tuya,
		name: 'Tuya / Smart Life',
		description:
			'Real-time events from bulbs, sockets, switches, plugs, temperature sensors, presence sensors, and cameras. Supports raw data type devices. The largest smart home ecosystem — one integration covers thousands of products.',
		conditions: true,
		actions: true
	},
	{
		logo: hue,
		name: 'Philips Hue',
		description:
			'Full control over lights, scenes, and groups. Combine Hue with devices from other brands in a single automation.',
		conditions: false,
		actions: true
	},
	{
		logo: ewelink,
		name: 'eWeLink',
		description:
			'Switches, plugs, power monitoring, lights, LED strips, fans, and all sensor types. WiFi and Zigbee. All regions. Real-time updates, no IFTTT needed.',
		conditions: true,
		actions: true
	},
	{
		logo: tado,
		name: 'tado°',
		description:
			'Set temperature, turn off heating, or resume Tado auto mode — the last one is nearly impossible on other platforms.',
		conditions: false,
		actions: true
	},
	{
		logo: alexa,
		name: 'Amazon Alexa',
		description:
			"Trigger Alexa routines directly from Apilio. Use Alexa's vast device support as an output for your Apilio logic.",
		conditions: false,
		actions: true
	},
	{
		logo: ifttt,
		name: 'IFTTT',
		description:
			'Access 600+ device brands and services. Apilio adds the logic layer that IFTTT lacks — complex conditions, delays, state persistence.',
		conditions: true,
		actions: true
	}
]

const iftttBrands = [
	{ image: smartthings, alt: 'Samsung SmartThings', class: 'h-14' },
	{ image: lifx, alt: 'LIFX', class: 'h-14' },
	{ image: ring, alt: 'Ring', class: 'h-10' },
	{ image: tplink, alt: 'TP-Link / Kasa', class: 'h-10' },
	{ image: bosch, alt: 'Bosch Smart Home', class: 'h-10' },
	{ image: netatmo, alt: 'Netatmo', class: 'h-10' }
]
---

<Layout title={SEO.title} description={SEO.description}>
	<Hero
		title="Works with your <strong>devices</strong>"
		text="Native integrations with real-time updates. Plus webhooks and API to connect anything else."
	/>

	<!-- Native integrations -->
	<Section id="native">
		<Row>
			<Col span="12" align="center" classes="mb-12 max-w-4xl mx-auto">
				<h2 class="text-pretty">Native <strong>integrations</strong></h2>
				<p class="pb-0 text-lg">
					Direct connections with real-time device updates. No IFTTT required.
				</p>
			</Col>
		</Row>
		<Row>
			{
				nativeIntegrations.map((integration) => (
					<Col span="4" spanMobile="6" classes="flex">
						<div class="flex w-full flex-col items-center rounded-lg border border-neutral-100 p-6 text-center dark:border-neutral-800">
							<Image
								src={integration.logo}
								alt={integration.name}
								class="mb-4 h-12 w-auto object-contain dark:brightness-200"
							/>
							<h3 class="mb-2 text-lg font-medium">{integration.name}</h3>
							<p class="mb-4 text-sm">{integration.description}</p>
							<div class="mt-auto flex flex-wrap justify-center gap-2">
								{integration.conditions && (
									<span class="inline-flex items-center gap-1 rounded-full bg-primary-100 px-2.5 py-0.5 text-xs font-medium text-primary-800 dark:bg-primary-900/30 dark:text-primary-300">
										<Icon name="inbox-arrow-down" class="h-3 w-3" />
										Conditions
									</span>
								)}
								{integration.actions && (
									<span class="inline-flex items-center gap-1 rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-medium text-blue-800 dark:bg-blue-900/30 dark:text-blue-300">
										<Icon name="play-circle" class="h-3 w-3" />
										Actions
									</span>
								)}
							</div>
						</div>
					</Col>
				))
			}
		</Row>
	</Section>

	<!-- Webhooks & API -->
	<Section classes="bg-neutral-50 dark:bg-neutral-900">
		<Row>
			<Col span="6" classes="flex items-center justify-center">
				<div class="grid grid-cols-2 gap-x-16 gap-y-10">
					<!-- Generic concept icons -->
					<div class="flex flex-col items-center gap-2">
						<Icon name="code-bracket" class="h-12 w-12 text-neutral-700 dark:text-neutral-300" />
						<span class="text-sm text-neutral-400">REST API</span>
					</div>
					<div class="flex flex-col items-center gap-2">
						<Icon name="bolt" class="h-12 w-12 text-neutral-700 dark:text-neutral-300" />
						<span class="text-sm text-neutral-400">Webhooks</span>
					</div>
					<!-- Brand logos -->
					<div class="flex flex-col items-center gap-2">
						<Image src={zapier} alt="Zapier" class="h-12 w-auto object-contain dark:brightness-200" />
						<span class="text-sm text-neutral-400">Zapier</span>
					</div>
					<div class="flex flex-col items-center gap-2">
						<Image src={apple} alt="iOS Shortcuts" class="h-12 w-auto object-contain dark:brightness-200" />
						<span class="text-sm text-neutral-400">iOS Shortcuts</span>
					</div>
				</div>
			</Col>
			<Col span="6" classes="self-center">
				<div class="max-w-xl">
					<h2 class="text-pretty text-2xl lg:text-3xl">
						Connect <strong>anything</strong> with webhooks and API
					</h2>
					<p class="text-lg leading-relaxed">
						Every variable and logicblock in Apilio has its own webhook URL. Send in data from any
						source — weather forecasts, electricity prices, CO2 levels — and trigger logic on demand.
					</p>
					<ul class="mb-6 list-disc space-y-2 pl-5 text-lg leading-relaxed">
						<li>Bidirectional webhooks with custom headers, body, and authorization</li>
						<li>Full REST API for programmatic control</li>
						<li>Works with Zapier, iOS Shortcuts, Tasker, Locative, Node-RED, and more</li>
					</ul>
					<p class="mb-6 text-neutral-400">
						Not just for smart homes — users automate energy optimization, server monitoring,
						notifications, and more. If it speaks HTTP or IFTTT, Apilio can add the logic.
					</p>
					<Button
						size="base"
						style="primary"
						variation="outline"
						link="https://documenter.getpostman.com/view/6470083/apilio-api/7TNfX9p"
					>
						View API docs
					</Button>
				</div>
			</Col>
		</Row>
	</Section>

	<!-- Via IFTTT -->
	<Section>
		<Row>
			<Col span="12" align="center" classes="mb-8 max-w-4xl mx-auto">
				<h2 class="text-pretty">600+ more brands through <strong>IFTTT</strong></h2>
				<p class="pb-0 text-lg">
					Anything that works with IFTTT works with Apilio — but with real logic on top.
				</p>
			</Col>
		</Row>
		<Row>
			<Col span="12">
				<div class="flex flex-wrap items-center justify-center gap-12">
					{
						iftttBrands.map((brand) => (
							<Image
								src={brand.image}
								alt={brand.alt}
								class={`${brand.class} w-auto object-contain opacity-60 grayscale transition hover:opacity-100 hover:grayscale-0 dark:brightness-200 dark:hover:brightness-100`}
							/>
						))
					}
				</div>
			</Col>
		</Row>
	</Section>

	<!-- Even more devices via hubs -->
	<Section padding="bottom">
		<Row>
			<Col span="6" classes="self-center">
				<div class="max-w-xl">
					<h2 class="text-pretty text-2xl lg:text-3xl">Even more devices through <strong>hubs</strong></h2>
					<p class="text-lg leading-relaxed">
						If you have a Tuya or eWeLink hub, you can connect Matter or Zigbee compatible devices of virtually any brand — as long as they follow the standards. Through a hub, the number of devices you can control with Apilio grows dramatically.
					</p>
				</div>
			</Col>
			<Col span="6" classes="flex items-center justify-center">
				<div class="flex items-center gap-12">
					<div class="text-center">
						<Image
							src={zigbeeLogo}
							alt="Zigbee"
							class="mx-auto h-20 w-20 object-contain dark:brightness-200"
						/>
						<p class="mt-3 font-medium text-neutral-500 dark:text-neutral-400">Zigbee</p>
					</div>
					<div class="text-center">
						<Image
							src={matterLogo}
							alt="Matter"
							class="mx-auto h-20 w-20 object-contain dark:brightness-200"
						/>
						<p class="mt-3 font-medium text-neutral-500 dark:text-neutral-400">Matter</p>
					</div>
				</div>
			</Col>
		</Row>
	</Section>

	<CTA />
</Layout>
